import React, { Component } from "react";

import "./App.css";

import { BrowserRouter, Route, Link } from "react-router-dom";
import { Layout, Menu, Breadcrumb, Icon, Row, Col } from "antd";
import TokenizerUI from "./components/tokenizer";
import WordEmbedderUI from "./components/word-embedder";


const { SubMenu } = Menu;
const { Header, Content, Sider, Footer } = Layout;
const MenuItemGroup = Menu.ItemGroup;

class App extends Component {
  constructor(props) {
    super(props);
    this.state = { width: 0, height: 0 };
    this.updateWindowDimensions = this.updateWindowDimensions.bind(this);
  }

  componentDidMount() {
    this.updateWindowDimensions();
    window.addEventListener("resize", this.updateWindowDimensions);
  }

  componentWillUnmount() {
    window.removeEventListener("resize", this.updateWindowDimensions);
  }

  updateWindowDimensions() {
    this.setState({ width: window.innerWidth, height: window.innerHeight });
  }

  render() {
    return <Layout style={{ fontSize: 18 }} className="box-shadow">
        <Menu theme="light" mode="horizontal" defaultSelectedKeys={["2"]} style={{ lineHeight: "64px", fontSize: 18 }} className="row">
          <Menu.Item key="0" className="col-2" style={{ fontSize: 30 }}>
            Thai NLP
          </Menu.Item>
          <div className="col-4" />
          <Menu.Item key="1" className="col-2">
            nav 1
          </Menu.Item>
          <Menu.Item key="2" className="col-2">
            nav 2
          </Menu.Item>
          <Menu.Item key="3" className="col-2">
            nav 3
          </Menu.Item>
        </Menu>
        <BrowserRouter>
          <Layout className="row">
            <Sider width={300} style={{ background: "#fff", fontSize: 20 }} className="col-3">
              <Menu mode="inline" defaultSelectedKeys={["tokenizer"]} style={{ height: "100%", fontSize: 20 }}>
                <MenuItemGroup key="g1" title="Foundation" style={{ fontSize: 30 }}>
                  <Menu.Item key="tokenizer" style={{ fontSize: 20 }}>
                    <Link to="/tokenizer">tokenizer</Link>
                  </Menu.Item>
                  <Menu.Item key="word" style={{ fontSize: 20 }}>
                    <Link to="/word-embedder">Word2Vec</Link>
                  </Menu.Item>
                  <Menu.Item key="2">Option 2</Menu.Item>
                </MenuItemGroup>
                <MenuItemGroup key="g2" title="Application">
                  <Menu.Item key="3">Option 1</Menu.Item>
                  <Menu.Item key="4">Option 2</Menu.Item>
                </MenuItemGroup>
              </Menu>
            </Sider>

            <Content style={{ background: "#fff", padding: 24, margin: 0, minHeight: this.state.height }}>
              <div>
                <Route path="/tokenizer" component={TokenizerUI} />
                <Route path="/word-embedder" component={WordEmbedderUI} />
              </div>
            </Content>
          </Layout>
        </BrowserRouter>
        <Footer />
      </Layout>;
  }
}

export default App;
